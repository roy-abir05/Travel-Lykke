{% extends "base.html" %} {% block extra_head %} {% load static %}
<style type="text/tailwindcss">
  :root {
    --primary-color: #fb3d6d;
    --background-color: #0d0d0d;
    --surface-color: #1a1a1a;
    --on-surface-color: #a3a3a3;
    --text-color: #ffffff;
    --accent-color: #262626;
  }
  body {
    font-family: "Spline Sans", sans-serif;
  }
  .input-field {
    @apply w-full rounded-lg border-none bg-[var(--accent-color)] p-4 text-base text-[var(--text-color)] placeholder:text-[var(--on-surface-color)] focus:ring-2 focus:ring-[var(--primary-color)] focus:ring-opacity-50;
  }
</style>
{% endblock %} {% block content %}
<main class="flex-1 bg-[var(--background-color)] py-12 sm:px-6 lg:px-8">
  <div class="container mx-auto max-w-4xl">
    <div class="space-y-8">
      <!-- Profile Header -->
      <div class="flex items-center gap-6">
        <div class="relative">
          <img
            src="{% if user.profile.profile_image %}{{ user.profile.profile_image.url }}{% else %}{% static 'UserIcon.png' %}{% endif %}"
            alt="User Profile"
            class="w-32 h-32 rounded-full object-cover border-4 border-[var(--surface-color)]"
          />
        </div>
        <div>
          <h2 class="text-3xl font-bold">
            {{ user.first_name }} {{ user.last_name }}
          </h2>
          <p class="text-[var(--on-surface-color)]">
            Joined {{ user.date_joined|date:"F Y" }}
          </p>
        </div>

        <!-- Logout Button -->
        <div class="mt-8">
          <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button
              type="submit"
              class="group relative flex justify-center rounded-full border border-transparent bg-[var(--primary-color)] px-6 py-3 text-sm font-bold text-black hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] focus:ring-offset-2 focus:ring-offset-[var(--surface-color)] transition-all"
            >
              Logout
            </button>
          </form>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Sidebar -->
        <div class="md:col-span-1">
          <div class="bg-[var(--surface-color)] rounded-2xl p-6">
            <h3 class="text-xl font-bold mb-4">Navigation</h3>
            <nav class="space-y-2">
              <a
                class="flex items-center gap-3 rounded-lg bg-[var(--accent-color)] px-4 py-3 text-sm font-medium text-[var(--primary-color)]"
                href="{% url 'profile' %}"
              >
                <span>Profile</span>
              </a>
              <a
                class="flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-white hover:bg-[var(--accent-color)] transition-colors"
                href="{% url 'my_bookings' %}"
              >
                <span>My Bookings</span>
              </a>
            </nav>
          </div>
        </div>

        <!-- Main Content -->
        <div class="md:col-span-2">
          <div class="bg-[var(--surface-color)] rounded-2xl p-8">
            <h3 class="text-xl font-bold mb-6">Personal Information</h3>
            <form method="POST" enctype="multipart/form-data" class="space-y-6">
              {% csrf_token %}

              <!-- First Name -->
              <div class="flex flex-col">
                <label for="first_name">First Name</label>
                <input
                  type="text"
                  id="first_name"
                  name="first_name"
                  placeholder="First Name"
                  value="{{ user.first_name }}"
                  required
                  class="input-field"
                />
              </div>

              <!-- Last Name -->
              <div class="flex flex-col">
                <label for="last_name">Last Name</label>
                <input
                  type="text"
                  id="last_name"
                  name="last_name"
                  placeholder="Last Name"
                  value="{{ user.last_name }}"
                  required
                  class="input-field"
                />
              </div>

              <!-- Email -->
              <div class="flex flex-col">
                <label for="email">Email</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Email"
                  value="{{ user.email }}"
                  required
                  class="input-field"
                />
              </div>

              <!-- Phone -->
              <div class="flex flex-col">
                <label for="phone_number">Phone Number</label>
                <input
                  type="text"
                  id="phone_number"
                  name="phone_number"
                  placeholder="Phone Number"
                  value="{{ user.profile.phone_number }}"
                  required
                  class="input-field"
                />
              </div>

              <!-- Profile Image -->
              <div class="flex flex-col">
                <label for="profile_image">Profile Image (Optional)</label>
                <input
                  type="file"
                  id="profile_image"
                  name="profile_image"
                  class="input-field"
                />
              </div>

              <!-- Submit Button -->
              <div class="flex justify-end">
                <button
                  type="submit"
                  class="group relative flex justify-center rounded-full bg-[var(--primary-color)] px-4 py-3 text-sm font-bold text-black hover:bg-opacity-90 transition-all"
                >
                  Save changes
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
