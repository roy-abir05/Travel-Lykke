{% extends "base.html" %} {% block extra_head %}
<style type="text/tailwindcss">
  :root {
    --primary-color: #fb3d6d;
    --secondary-color: #4d1829;
    --background-color: #1a1a1a;
    --text-primary: #ffffff;
    --text-secondary: #f3c5d5;
    --input-bg: #212121;
    --border-color: #4d1829;
  }
  body {
    font-family: "Spline Sans", sans-serif;
  }
  .form-input {
    @apply w-full rounded-lg border-none bg-[var(--input-bg)] text-white placeholder:text-[var(--text-secondary)] focus:ring-2 focus:ring-[var(--primary-color)] transition-shadow duration-200;
  }
  .form-label {
    @apply text-sm font-medium text-[var(--text-primary)] mb-2;
  }
  .form-select {
    @apply appearance-none;
  }
  .btn-primary {
    @apply flex min-w-[120px] items-center justify-center rounded-full h-12 px-6 bg-[var(--primary-color)] text-white text-base font-bold tracking-wide hover:brightness-110 transition-all;
  }
  .btn-secondary {
    @apply flex min-w-[120px] items-center justify-center rounded-full h-12 px-6 bg-[var(--secondary-color)] text-[var(--text-primary)] text-base font-bold tracking-wide hover:bg-opacity-80 transition-all;
  }
</style>
{% endblock %} {% block content %}
<main class="container mx-auto flex-grow px-4 py-8 sm:px-6 lg:px-8">
  <div class="mx-auto max-w-4xl">
    <h2 class="mb-8 text-4xl font-bold tracking-tight">
      Passenger Information
    </h2>

    <h4 class="mb-8 text-3xl font-bold tracking-tighter text-white/80">Available Seats: {{ travel_option.available_seats }}</h4>

    <form method="POST" class="grid grid-cols-1 gap-x-8 gap-y-6 md:grid-cols-2">
      {% csrf_token %}
      <div>
        <label class="form-label" for="number-of-seats">Number of Seats</label>
        <input
          class="form-input h-14 p-4"
          id="number-of-seats"
          name="number_of_seats"
          type="number"
          required
          value="1"
          min="1"
          max="{{ travel_option.available_seats }}"
        />
      </div>

      <div
        class="md:col-span-2 flex justify-between border-t border-[var(--border-color)] pt-8"
      >
        <div>
          <p class="text-sm text-[var(--text-secondary)]">Total Price</p>
          <p
            class="text-3xl font-bold text-[var(--primary-color)]"
            id="total-price"
          >
            ${{ travel_option.price }}
          </p>
        </div>
        <div class="flex items-center gap-4">
          <a href="{% url 'travel_options' %}" class="btn-secondary">Cancel</a>
          <button type="submit" class="btn-primary">Confirm &amp; Pay</button>
        </div>
      </div>
    </form>
  </div>
</main>

<script>
  const seatsInput = document.getElementById("number-of-seats");
  const priceDisplay = document.getElementById("total-price");
  const pricePerSeat = {{ travel_option.price|floatformat:2 }};

  seatsInput.addEventListener('change', () => {
    const totalPrice = (seatsInput.value || 1) * pricePerSeat;
    priceDisplay.textContent = `$${totalPrice.toFixed(2)}`;
  })
</script>
{% endblock %}
